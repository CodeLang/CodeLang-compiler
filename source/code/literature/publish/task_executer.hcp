class

❪"code/tools/transcompilers/unilang/structure/model/inlined_structures"❫
❪"code/tools/transcompilers/unilang/tokens/generic_token"❫
❪"code/tools/transcompilers/unilang/tokens/get_tokens"❫
❪"code/utilities/formats/pdf/pdf_settings"❫
⚯
❪"code/utilities/types/general/lib"❫
❪"code/utilities/program/common_actions/exits/lib"❫
❪"code/utilities/filesystem/files/creating/lib"❫
❪"code/utilities/program/common_actions/locale/lib"❫
❪"code/utilities/types/vectors/observers/lib"❫
❪"code/utilities/types/vectors/operators/lib"❫
❪"code/utilities/filesystem/files/getting/lib"❫
❪"code/utilities/filesystem/paths/lib"❫
❪"code/tools/transcompilers/unilang/user-frontend/code_graphs_creator"❫
❪"code/tools/transcompilers/unilang/dependency_graph_creator/code_graph"❫
❪"code/tools/transcompilers/unilang/main/root_settings/root_settings_getter"❫
❪"code/tools/transcompilers/unilang/compiler-frontends/markdown/markdown_str_getter"❫
❪"code/tools/transcompilers/unilang/compiler-frontends/dzslides/dzslides_exporter"❫
❪"code/utilities/formats/pdf/latex_template_getter"❫
❪"code/utilities/web/dropbox/dropbox_uploader"❫
❪"code/utilities/personal/secret/secret_getter"❫
❪"code/utilities/filesystem/files/temp/temp_file"❫
❪"code/utilities/formats/pdf/pdf_creator"❫
❪"code/tools/transcompilers/unilang/user-frontend/file_to_structure_converter"❫
❪"code/utilities/output/upload/file_upload_settings"❫
❪"code/utilities/output/upload/file_uploader"❫
❪"code/utilities/formats/html/basic_html_template_getter"❫
❪"code/utilities/formats/html/html_list_maker"❫
❪"code/utilities/filesystem/files/creating/lib"❫
❪"code/utilities/types/strings/transformers/appending/lib"❫
❪"code/literature/publish/essay_list_maker"❫
❪"code/utilities/filesystem/files/temp/existing_temp_file"❫
❪"code/utilities/data_structures/unique_str_vertex_graph/lib"❫
❪"code/utilities/program/wrappers/graphviz/graphviz_image_maker"❫
❪"code/utilities/filesystem/paths/lib"❫
⚞⚟

◀public: static▶ void ☀Execute_Needed_Tasks() ❰

    //Unicode please
    Set_English_UTF8_Locale();
    
    //move somewhere
    Move_To_Bazel_Derived_Path_To_Essays();
    
    std::vector<std::string> all_essays;
    all_essays.emplace_back("dyadic_meaning");
    all_essays.emplace_back("a_traffic_light");
    all_essays.emplace_back("signification");
    //all_essays.emplace_back("ersatz_poetry");
    
    //publish essays
    std::cout << "generating essays..." << std::endl;
    for (auto const& it: all_essays){
        Generate_Essay(it);
    }
    
    std::cout << "essay list..." << std::endl;
    Essay_List_Maker::Make(all_essays);
    
    
❱

◀private: static▶ void ☀Generate_Essay(std::string const& basename) ❰

    auto to_raw_pdf = Full_Path_For_Desktop_File(basename + "-pdf.md");
    auto to_manual_pdf = Full_Path_For_Desktop_File(basename + ".pdf");
    auto to_latex_template = Full_Path_For_Desktop_File(basename + ".tx");
    
    //convert to unilang structure
    auto structure = File_To_Structure_Converter::Convert(basename + ".unilang");
    
    Generate_Train_Of_Thought(structure,basename);
    
    //build pdf documentation
    Pdf_Settings pdf_settings;
    pdf_settings.latex_template = to_latex_template;
    pdf_settings.md_format = to_raw_pdf;
    pdf_settings.resulting_pdf = to_manual_pdf;
    Pdf_Creator::Create_Pdf(structure,pdf_settings);
    
    Existing_Temp_File created_pdf(pdf_settings.resulting_pdf);
    
    //upload to github
    File_Upload_Settings upload_settings;
    
    //generic
    upload_settings.local_file_name = to_manual_pdf;
    upload_settings.remote_file_name = "essays/" + basename + ".pdf";
    
    //dropbox specific
    upload_settings.upload_to_dropbox = false;
    
    //github specific
    upload_settings.upload_to_github = true;
    upload_settings.github_settings.pull_first = false;
    upload_settings.github_settings.update = false;
    
    //File_Uploader::Upload(upload_settings);
❱

◀private: static▶ void ☀Generate_Train_Of_Thought(Structure const& structure, std::string const& basename) ❰

    Unique_Str_Vertex_Graph g;
    for (auto const& x: structure.literature.paragraphs){
        for (auto const& y: x.thought_connections){
            auto from = as_string(y.from.value);
            auto to = as_string(y.to.value);
            g.Connect(from,to);
        }
    }
    
    Graphviz_Image_Maker::Make(g.As_Graphviz(),Full_Path_To_Desktop(),basename);
❱




